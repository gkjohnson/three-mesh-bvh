import{M as f,i as v,V as M,W as A,c as G,d as P,D as E,A as F,T as D,m as H,a7 as R,t as U,f as j,G as S,v as V,w as C,a8 as K,P as k,a9 as q,n as I,o as J,B as N}from"./ExtendedTriangle-hsPasuNU.js";import{S as Q}from"./stats.min-DbzWzcqd.js";import{g as X}from"./lil-gui.module.min-BH_YJbPT.js";import{O as Y}from"./OrbitControls-DEZHvbFX.js";import{S as Z}from"./MeshBVH-DQV6PBDm.js";import{a as _,c as $,d as ee}from"./ExtensionUtilities-BlnM4xb7.js";import"./_commonjsHelpers-CqkleIqs.js";f.prototype.raycast=_;v.prototype.computeBoundsTree=$;v.prototype.disposeBoundsTree=ee;const e={position:new M,rotation:new q,scale:new M(1,1,1),speed:1,displayMeshes:!1,distance:1.1};let O,a,r,s,m,u,d,x,b,T,B,t,p,z=window.performance.now();te();function te(){s=new A({antialias:!0}),s.setPixelRatio(window.devicePixelRatio),s.setSize(window.innerWidth,window.innerHeight),s.setClearColor(6687034,1),s.setAnimationLoop(ne),document.body.appendChild(s.domElement),a=new G,a.fog=new P(2503224/2,20,60);const g=new E(16777215,.5);g.position.set(1,1,1),a.add(g),a.add(new F(16777215,.4));const y=1,i=.4,n=100,c=40,o=new D(y,i,n,c),w=new H({color:16777215,side:U,shininess:.01,polygonOffset:!0,polygonOffsetFactor:1,polygonOffsetUnits:1,opacity:.5,blending:R}),L=new j({polygonOffset:!0,polygonOffsetFactor:1,polygonOffsetUnits:1,colorWrite:!1});o.computeBoundsTree({maxLeafSize:1,strategy:Z}),t=new S,m=new f(o,w),m.renderOrder=2,T=new f(o,L),T.renderOrder=1,t.add(T,m),p=new S,u=new f(o,w),u.renderOrder=2,B=new f(o,L),B.renderOrder=1,p.add(B,u),a.add(t,p);const W=new v;W.setFromPoints([new M(0,1,0),new M(0,-1,0)]),x=new V(W,new C({color:15240106})),b=x.clone(),b.material=new C({color:15277667,transparent:!0,opacity:.25,depthFunc:K}),b.renderOrder=3,d=new S,d.add(x,b),a.add(d),r=new k(75,window.innerWidth/window.innerHeight,.1,50),r.position.set(2,2,2),r.far=100,r.updateProjectionMatrix(),new Y(r,s.domElement),O=new Q,document.body.appendChild(O.dom);const h=new X;h.add(e,"speed",0,10,.001),h.add(e,"distance",0,1.5,.001),h.add(e,"displayMeshes"),h.open(),window.addEventListener("resize",function(){r.aspect=window.innerWidth/window.innerHeight,r.updateProjectionMatrix(),s.setSize(window.innerWidth,window.innerHeight)},!1)}function ne(){const l=window.performance.now()-z;z=window.performance.now(),t.position.y=-e.distance,t.rotation.x-=l*3*1e-4*e.speed*.5,t.rotation.y-=l*1*1e-4*e.speed*.5,t.rotation.z-=l*2*1e-4*e.speed*.5,p.position.y=e.distance,p.rotation.x+=l*1e-4*e.speed,p.rotation.y+=l*2*1e-4*e.speed,p.rotation.z+=l*3*1e-4*e.speed,a.updateMatrixWorld(!0);const g=new I().copy(m.matrixWorld).invert().multiply(u.matrixWorld),y=new J,i=[];if(m.geometry.boundsTree.bvhcast(u.geometry.boundsTree,g,{intersectsTriangles(n,c){if(n.intersectsTriangle(c,y)){const{start:o,end:w}=y;i.push(o.x,o.y,o.z,w.x,w.y,w.z)}}}),i.length){const n=x.geometry,c=n.attributes.position.array;c.length<i.length?(n.dispose(),n.setAttribute("position",new N(new Float32Array(i),3,!1))):c.set(i),n.setDrawRange(0,i.length/3),n.attributes.position.needsUpdate=!0,d.position.copy(t.position),d.rotation.copy(t.rotation),d.scale.copy(t.scale),d.visible=!0}else d.visible=!1;t.visible=e.displayMeshes,p.visible=e.displayMeshes,s.render(a,r),O.begin(),O.end()}
//# sourceMappingURL=edgeIntersect-CB2v-9gD.js.map
