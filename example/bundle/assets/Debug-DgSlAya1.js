import{i as h,m as l,T as y}from"./MeshBVH-DQV6PBDm.js";function u(i){switch(typeof i){case"number":return 8;case"string":return i.length*2;case"boolean":return 4;default:return 0}}function x(i){return/(Uint|Int|Float)(8|16|32)Array/.test(i.constructor.name)}function d(i,o){const e={nodeCount:0,leafNodeCount:0,depth:{min:1/0,max:-1/0},primitives:{min:1/0,max:-1/0},splits:[0,0,0],surfaceAreaScore:0};return i.traverse((r,s,n,t,a)=>{const f=n[3]-n[0],m=n[4]-n[1],c=n[5]-n[2],p=2*(f*m+m*c+c*f);e.nodeCount++,s?(e.leafNodeCount++,e.depth.min=Math.min(r,e.depth.min),e.depth.max=Math.max(r,e.depth.max),e.primitives.min=Math.min(a,e.primitives.min),e.primitives.max=Math.max(a,e.primitives.max),e.surfaceAreaScore+=p*l*a):(e.splits[t]++,e.surfaceAreaScore+=p*y)},o),e.primitives.min===1/0&&(e.primitives.min=0,e.primitives.max=0),e.depth.min===1/0&&(e.depth.min=0,e.depth.max=0),e}function S(i){return i._roots.map((o,e)=>d(i,e))}function A(i){const o=new Set,e=[i];let r=0;for(;e.length;){const s=e.pop();if(!o.has(s)){o.add(s);for(let n in s){if(!Object.hasOwn(s,n))continue;r+=u(n);const t=s[n];t&&(typeof t=="object"||typeof t=="function")?x(t)||h()&&t instanceof SharedArrayBuffer||t instanceof ArrayBuffer?r+=t.byteLength:e.push(t):r+=u(t)}}}return r}export{A as e,S as g};
//# sourceMappingURL=Debug-DgSlAya1.js.map
