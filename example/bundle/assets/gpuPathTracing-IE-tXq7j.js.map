{"version":3,"file":"gpuPathTracing-IE-tXq7j.js","sources":["../../gpuPathTracing.js"],"sourcesContent":["import * as THREE from 'three';\nimport { FullScreenQuad } from 'three/examples/jsm/postprocessing/Pass.js';\nimport { GLTFLoader } from 'three/examples/jsm/loaders/GLTFLoader.js';\nimport { OrbitControls } from 'three/examples/jsm/controls/OrbitControls.js';\nimport { mergeGeometries } from 'three/examples/jsm/utils/BufferGeometryUtils.js';\nimport Stats from 'stats.js';\nimport { GUI } from 'three/examples/jsm/libs/lil-gui.module.min.js';\nimport {\n\tMeshBVH, MeshBVHUniformStruct, FloatVertexAttributeTexture,\n\tSAH, BVHShaderGLSL,\n} from 'three-mesh-bvh';\n\nconst params = {\n\tenableRaytracing: true,\n\tsmoothImageScaling: true,\n\tresolutionScale: 0.5 / window.devicePixelRatio,\n\tbounces: 3,\n\taccumulate: true,\n};\n\nlet renderer, camera, scene, gui, stats;\nlet rtQuad, finalQuad, renderTarget, mesh;\nlet samples = 0;\nlet outputContainer;\n\ninit();\nrender();\n\nfunction init() {\n\n\t// renderer setup\n\trenderer = new THREE.WebGLRenderer( { antialias: false } );\n\trenderer.setPixelRatio( window.devicePixelRatio );\n\trenderer.setClearColor( 0x09141a );\n\trenderer.setSize( window.innerWidth, window.innerHeight );\n\trenderer.outputEncoding = THREE.sRGBEncoding;\n\tdocument.body.appendChild( renderer.domElement );\n\n\toutputContainer = document.getElementById( 'output' );\n\n\t// scene setup\n\tscene = new THREE.Scene();\n\n\tconst light = new THREE.DirectionalLight( 0xffffff, 1 );\n\tlight.position.set( 1, 1, 1 );\n\tscene.add( light );\n\tscene.add( new THREE.AmbientLight( 0xb0bec5, 0.5 ) );\n\n\t// camera setup\n\tcamera = new THREE.PerspectiveCamera( 75, window.innerWidth / window.innerHeight, 0.1, 50 );\n\tcamera.position.set( - 2, 2, 3 );\n\tcamera.far = 100;\n\tcamera.updateProjectionMatrix();\n\n\t// stats setup\n\tstats = new Stats();\n\tdocument.body.appendChild( stats.dom );\n\n\t// hand-tuned ray origin offset values to accommodate floating point error. Mobile offset\n\t// tuned from Pixel 3 device that reports as highp but seemingly has low precision.\n\tconst rtMaterial = new THREE.ShaderMaterial( {\n\n\t\tdefines: {\n\t\t\tBOUNCES: 5,\n\t\t},\n\n\t\tuniforms: {\n\t\t\tbvh: { value: new MeshBVHUniformStruct() },\n\t\t\tnormalAttribute: { value: new FloatVertexAttributeTexture() },\n\t\t\tcameraWorldMatrix: { value: new THREE.Matrix4() },\n\t\t\tinvProjectionMatrix: { value: new THREE.Matrix4() },\n\t\t\tseed: { value: 0 },\n\t\t\topacity: { value: 1 },\n\t\t},\n\n\t\tvertexShader: /* glsl */`\n\n\t\t\tvarying vec2 vUv;\n\t\t\tvoid main() {\n\n\t\t\t\tvec4 mvPosition = vec4( position, 1.0 );\n\t\t\t\tmvPosition = modelViewMatrix * mvPosition;\n\t\t\t\tgl_Position = projectionMatrix * mvPosition;\n\n\t\t\t\tvUv = uv;\n\n\t\t\t}\n\n\t\t`,\n\n\t\tfragmentShader: /* glsl */`\n\t\t\t#define RAY_OFFSET 1e-5\n\n\t\t\tprecision highp isampler2D;\n\t\t\tprecision highp usampler2D;\n\t\t\t${ BVHShaderGLSL.common_functions }\n\t\t\t${ BVHShaderGLSL.bvh_struct_definitions }\n\t\t\t${ BVHShaderGLSL.bvh_ray_functions }\n\t\t\t#include <common>\n\n\t\t\tuniform mat4 cameraWorldMatrix;\n\t\t\tuniform mat4 invProjectionMatrix;\n\t\t\tuniform sampler2D normalAttribute;\n\t\t\tuniform BVH bvh;\n\t\t\tuniform float seed;\n\t\t\tuniform float opacity;\n\t\t\tvarying vec2 vUv;\n\n\t\t\tvoid main() {\n\n\t\t\t\t// get [-1, 1] normalized device coordinates\n\t\t\t\tvec2 ndc = 2.0 * vUv - vec2( 1.0 );\n\t\t\t\tvec3 rayOrigin, rayDirection;\n\t\t\t\tndcToCameraRay( ndc, cameraWorldMatrix, invProjectionMatrix, rayOrigin, rayDirection );\n\n\t\t\t\t// Lambertian render\n\t\t\t\tgl_FragColor = vec4( 0.0 );\n\n\t\t\t\tvec3 throughputColor = vec3( 1.0 );\n\t\t\t\tvec3 randomPoint = vec3( .0 );\n\n\t\t\t\t// hit results\n\t\t\t\tuvec4 faceIndices = uvec4( 0u );\n\t\t\t\tvec3 faceNormal = vec3( 0.0, 0.0, 1.0 );\n\t\t\t\tvec3 barycoord = vec3( 0.0 );\n\t\t\t\tfloat side = 1.0;\n\t\t\t\tfloat dist = 0.0;\n\n\t\t\t\tfor ( int i = 0; i < BOUNCES; i ++ ) {\n\n\t\t\t\t\tif ( ! bvhIntersectFirstHit( bvh, rayOrigin, rayDirection, faceIndices, faceNormal, barycoord, side, dist ) ) {\n\n\t\t\t\t\t\tfloat value = ( rayDirection.y + 0.5 ) / 1.5;\n\t\t\t\t\t\tvec3 skyColor = mix( vec3( 1.0 ), vec3( 0.75, 0.85, 1.0 ), value );\n\n\t\t\t\t\t\tgl_FragColor = vec4( skyColor * throughputColor * 2.0, 1.0 );\n\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t}\n\n\t\t\t\t\t// 1 / PI attenuation for physically correct lambert model\n\t\t\t\t\t// https://www.rorydriscoll.com/2009/01/25/energy-conservation-in-games/\n\t\t\t\t\tthroughputColor *= 1.0 / PI;\n\n\t\t\t\t\trandomPoint = vec3(\n\t\t\t\t\t\trand( vUv + float( i + 1 ) + vec2( seed, seed ) ),\n\t\t\t\t\t\trand( - vUv * seed + float( i ) - seed ),\n\t\t\t\t\t\trand( - vUv * float( i + 1 ) - vec2( seed, - seed ) )\n\t\t\t\t\t);\n\t\t\t\t\trandomPoint -= 0.5;\n\t\t\t\t\trandomPoint *= 2.0;\n\n\t\t\t\t\t// ensure the random vector is not 0,0,0 and that it won't exactly negate\n\t\t\t\t\t// the surface normal\n\n\t\t\t\t\tfloat pointLength = max( length( randomPoint ), 1e-4 );\n\t\t\t\t\trandomPoint /= pointLength;\n\t\t\t\t\trandomPoint *= 0.999;\n\n\t\t\t\t\t// fetch the interpolated smooth normal\n\t\t\t\t\tvec3 normal =\n\t\t\t\t\t\tside *\n\t\t\t\t\t\ttextureSampleBarycoord(\n\t\t\t\t\t\t\tnormalAttribute,\n\t\t\t\t\t\t\tbarycoord,\n\t\t\t\t\t\t\tfaceIndices.xyz\n\t\t\t\t\t\t).xyz;\n\n\t\t\t\t\t// adjust the hit point by the surface normal by a factor of some offset and the\n\t\t\t\t\t// maximum component-wise value of the current point to accommodate floating point\n\t\t\t\t\t// error as values increase.\n\t\t\t\t\tvec3 point = rayOrigin + rayDirection * dist;\n\t\t\t\t\tvec3 absPoint = abs( point );\n\t\t\t\t\tfloat maxPoint = max( absPoint.x, max( absPoint.y, absPoint.z ) );\n\t\t\t\t\trayOrigin = point + faceNormal * ( maxPoint + 1.0 ) * RAY_OFFSET;\n\t\t\t\t\trayDirection = normalize( normal + randomPoint );\n\n\t\t\t\t}\n\n\t\t\t\tgl_FragColor.a = opacity;\n\n\t\t\t}\n\n\t\t`\n\n\t} );\n\n\trtQuad = new FullScreenQuad( rtMaterial );\n\trtMaterial.transparent = true;\n\trtMaterial.depthWrite = false;\n\n\t// load mesh and set up material BVH attributes\n\tnew GLTFLoader()\n\t\t.load( 'https://raw.githubusercontent.com/gkjohnson/3d-demo-data/main/models/dragon-attenuation/DragonAttenuation.glb', gltf => {\n\n\t\t\tlet dragonMesh;\n\t\t\tgltf.scene.traverse( c => {\n\n\t\t\t\tif ( c.isMesh && c.name === 'Dragon' ) {\n\n\t\t\t\t\tdragonMesh = c;\n\t\t\t\t\tc.geometry.scale( 0.25, 0.25, 0.25 ).rotateX( Math.PI / 2 );\n\n\t\t\t\t}\n\n\t\t\t} );\n\n\t\t\tconst planeGeom = new THREE.PlaneGeometry( 5, 5, 1, 1 );\n\t\t\tplaneGeom.rotateX( - Math.PI / 2 );\n\n\t\t\tconst merged = mergeGeometries( [ planeGeom, dragonMesh.geometry ], false );\n\t\t\tmerged.translate( 0, - 0.5, 0 );\n\n\t\t\tmesh = new THREE.Mesh( merged, new THREE.MeshStandardMaterial() );\n\t\t\tscene.add( mesh );\n\n\t\t\tconst bvh = new MeshBVH( mesh.geometry, { maxLeafSize: 1, strategy: SAH } );\n\t\t\trtMaterial.uniforms.bvh.value.updateFrom( bvh );\n\t\t\trtMaterial.uniforms.normalAttribute.value.updateFrom( mesh.geometry.attributes.normal );\n\n\t\t} );\n\n\n\tconst floatLinearExtSupported = renderer.extensions.get( 'OES_texture_float_linear' );\n\trenderTarget = new THREE.WebGLRenderTarget( 1, 1, {\n\n\t\tformat: THREE.RGBAFormat,\n\t\ttype: floatLinearExtSupported ? THREE.FloatType : THREE.HalfFloatType,\n\n\t} );\n\n\tfinalQuad = new FullScreenQuad( new THREE.MeshBasicMaterial( {\n\n\t\tmap: renderTarget.texture,\n\n\t} ) );\n\n\tconst controls = new OrbitControls( camera, renderer.domElement );\n\tcontrols.addEventListener( 'change', () => {\n\n\t\tresetSamples();\n\n\t} );\n\n\tgui = new GUI();\n\tgui.add( params, 'enableRaytracing' ).name( 'enable' );\n\tgui.add( params, 'accumulate' );\n\tgui.add( params, 'smoothImageScaling' );\n\tgui.add( params, 'resolutionScale', 0.1, 1, 0.01 ).onChange( resize );\n\tgui.add( params, 'bounces', 1, 10, 1 ).onChange( v => {\n\n\t\trtMaterial.defines.BOUNCES = parseInt( v );\n\t\trtMaterial.needsUpdate = true;\n\t\tresetSamples();\n\n\t} );\n\tgui.open();\n\n\twindow.addEventListener( 'resize', resize, false );\n\tresize();\n\n}\n\nfunction resetSamples() {\n\n\tsamples = 0;\n\n}\n\nfunction resize() {\n\n\tcamera.aspect = window.innerWidth / window.innerHeight;\n\tcamera.updateProjectionMatrix();\n\n\tconst w = window.innerWidth;\n\tconst h = window.innerHeight;\n\tconst dpr = window.devicePixelRatio * params.resolutionScale;\n\trenderer.setSize( w, h );\n\trenderer.setPixelRatio( dpr );\n\n\trenderTarget.setSize( w * dpr, h * dpr );\n\n\tresetSamples();\n\n}\n\nfunction render() {\n\n\tstats.update();\n\trequestAnimationFrame( render );\n\n\trenderer.domElement.style.imageRendering = params.smoothImageScaling ? 'auto' : 'pixelated';\n\n\tif ( mesh && params.enableRaytracing ) {\n\n\t\t// jitter camera for AA\n\t\tif ( params.accumulate ) {\n\n\t\t\tif ( samples === 0 ) {\n\n\t\t\t\tcamera.clearViewOffset();\n\n\t\t\t} else {\n\n\t\t\t\tconst w = renderTarget.width;\n\t\t\t\tconst h = renderTarget.height;\n\t\t\t\tcamera.setViewOffset(\n\t\t\t\t\tw, h,\n\t\t\t\t\tMath.random() - 0.5, Math.random() - 0.5,\n\t\t\t\t\tw, h,\n\t\t\t\t);\n\n\t\t\t}\n\n\t\t} else {\n\n\t\t\tresetSamples();\n\n\t\t}\n\n\t\tcamera.updateMatrixWorld();\n\n\t\t// update material\n\t\t// keep appending a value that doesn't divide evenly into 2 so we have a different seed every frame\n\t\tconst seed = ( rtQuad.material.uniforms.seed.value + 0.11111 ) % 2;\n\t\trtQuad.material.uniforms.seed.value = seed;\n\t\trtQuad.material.uniforms.cameraWorldMatrix.value.copy( camera.matrixWorld );\n\t\trtQuad.material.uniforms.invProjectionMatrix.value.copy( camera.projectionMatrixInverse );\n\t\trtQuad.material.uniforms.opacity.value = 1 / ( samples + 1 );\n\n\t\t// render float target\n\t\trenderer.autoClear = samples === 0;\n\t\trenderer.setRenderTarget( renderTarget );\n\t\trtQuad.render( renderer );\n\n\t\t// render to screen\n\t\trenderer.setRenderTarget( null );\n\t\tfinalQuad.render( renderer );\n\n\t\trenderer.autoClear = true;\n\t\tsamples ++;\n\n\t} else {\n\n\t\tresetSamples();\n\t\tcamera.clearViewOffset();\n\t\trenderer.render( scene, camera );\n\n\t}\n\n\toutputContainer.innerText = `samples: ${ samples }`;\n\n}\n"],"names":["params","renderer","camera","scene","gui","stats","rtQuad","finalQuad","renderTarget","mesh","samples","outputContainer","init","render","THREE.WebGLRenderer","THREE.sRGBEncoding","THREE.Scene","light","THREE.DirectionalLight","THREE.AmbientLight","THREE.PerspectiveCamera","Stats","rtMaterial","THREE.ShaderMaterial","MeshBVHUniformStruct","FloatVertexAttributeTexture","THREE.Matrix4","BVHShaderGLSL.common_functions","BVHShaderGLSL.bvh_struct_definitions","BVHShaderGLSL.bvh_ray_functions","FullScreenQuad","GLTFLoader","gltf","dragonMesh","c","planeGeom","THREE.PlaneGeometry","merged","mergeGeometries","THREE.Mesh","THREE.MeshStandardMaterial","bvh","MeshBVH","SAH","floatLinearExtSupported","THREE.WebGLRenderTarget","THREE.RGBAFormat","THREE.FloatType","THREE.HalfFloatType","THREE.MeshBasicMaterial","OrbitControls","resetSamples","GUI","resize","w","h","dpr","seed"],"mappings":"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"}